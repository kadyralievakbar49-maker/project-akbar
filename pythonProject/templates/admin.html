{% extends "base.html" %}

{% block title %}–ê–¥–º–∏–Ω–∫–∞ - –§–æ—Ä—É–º{% endblock %}

{% block content %}
    <h1 style="margin-bottom: 25px; color: #e74c3c;">üõ°Ô∏è –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h1>
    
    <div style="background-color: #f8d7da; border: 2px solid #f5c6cb; border-radius: 10px; padding: 20px; margin-bottom: 30px;">
        <h3 style="color: #721c24; margin-bottom: 15px;">‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ!</h3>
        <p style="color: #721c24; line-height: 1.6;">
            –í—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –ø–∞–Ω–µ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞. –ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –ø–æ—Å—Ç–∞–º–∏ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏.
            <strong>–ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö!</strong>
        </p>
    </div>
    
    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
        <div style="background-color: #3498db; color: white; padding: 20px; border-radius: 10px; text-align: center;">
            <h3 style="margin-bottom: 10px; font-size: 2.5em;">{{ total_users }}</h3>
            <p style="font-size: 1.1em; margin: 0;">üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
        </div>
        <div style="background-color: #2ecc71; color: white; padding: 20px; border-radius: 10px; text-align: center;">
            <h3 style="margin-bottom: 10px; font-size: 2.5em;">{{ total_posts }}</h3>
            <p style="font-size: 1.1em; margin: 0;">üìù –ü–æ—Å—Ç–æ–≤</p>
        </div>
        <div style="background-color: #e74c3c; color: white; padding: 20px; border-radius: 10px; text-align: center;">
            <h3 style="margin-bottom: 10px; font-size: 2.5em;">{{ total_comments }}</h3>
            <p style="font-size: 1.1em; margin: 0;">üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤</p>
        </div>
        <div style="background-color: #9b59b6; color: white; padding: 20px; border-radius: 10px; text-align: center;">
            <h3 style="margin-bottom: 10px; font-size: 2.5em;">{{ total_likes }}</h3>
            <p style="font-size: 1.1em; margin: 0;">‚ù§Ô∏è –õ–∞–π–∫–æ–≤</p>
        </div>
    </div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º -->
    <div style="display: flex; gap: 15px; margin-bottom: 30px; flex-wrap: wrap;">
        <a href="{{ url_for('admin_users') }}" style="padding: 12px 25px; background-color: #3498db; color: white; text-decoration: none; border-radius: 6px; font-weight: bold;">üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</a>
        <a href="{{ url_for('admin_posts') }}" style="padding: 12px 25px; background-color: #2ecc71; color: white; text-decoration: none; border-radius: 6px; font-weight: bold;">üìù –ü–æ—Å—Ç—ã</a>
        <a href="{{ url_for('admin_comments') }}" style="padding: 12px 25px; background-color: #e74c3c; color: white; text-decoration: none; border-radius: 6px; font-weight: bold;">üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</a>
        <a href="{{ url_for('index') }}" style="padding: 12px 25px; background-color: #95a5a6; color: white; text-decoration: none; border-radius: 6px; font-weight: bold;">üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
    </div>

    <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
    <div style="background-color: white; padding: 20px; border-radius: 10px; margin-bottom: 30px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
        <h3 style="margin-bottom: 15px; color: #2c3e50;">‚ö° –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
            <div style="padding: 15px; background-color: #f8f9fa; border-radius: 8px;">
                <h4 style="margin-bottom: 10px; color: #3498db;">üëë –°–æ–∑–¥–∞—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h4>
                <p style="margin-bottom: 10px; font-size: 0.9em;">–ù–∞–∑–Ω–∞—á—å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–æ—Ä—É–º–æ–º</p>
                <a href="{{ url_for('admin_users') }}" style="color: #3498db; text-decoration: underline; font-size: 0.9em;">–ü–µ—Ä–µ–π—Ç–∏ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º ‚Üí</a>
            </div>
            <div style="padding: 15px; background-color: #f8f9fa; border-radius: 8px;">
                <h4 style="margin-bottom: 10px; color: #2ecc71;">üõ°Ô∏è –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞</h4>
                <p style="margin-bottom: 10px; font-size: 0.9em;">–ù–∞–∑–Ω–∞—á—å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–º –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞</p>
                <a href="{{ url_for('admin_users') }}" style="color: #2ecc71; text-decoration: underline; font-size: 0.9em;">–ü–µ—Ä–µ–π—Ç–∏ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º ‚Üí</a>
            </div>
            <div style="padding: 15px; background-color: #f8f9fa; border-radius: 8px;">
                <h4 style="margin-bottom: 10px; color: #e74c3c;">üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞</h4>
                <p style="margin-bottom: 10px; font-size: 0.9em;">–£–¥–∞–ª–∏—Ç–µ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ—Å—Ç—ã –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</p>
                <a href="{{ url_for('admin_posts') }}" style="color: #e74c3c; text-decoration: underline; font-size: 0.9em;">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞–º–∏ ‚Üí</a>
            </div>
        </div>
    </div>

    <!-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è -->
    <div style="background-color: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
        <h3 style="margin-bottom: 15px; color: #2c3e50;">üìä –ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>

        <h4 style="margin: 20px 0 15px; color: #3498db;">–ù–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 5)</h4>
        {% if users[:5] %}
            <table style="width: 100%; border-collapse: collapse;">
                <thead style="background-color: #f8f9fa;">
                    <tr>
                        <th style="padding: 10px; text-align: left; border-bottom: 2px solid #ddd;">–ò–º—è</th>
                        <th style="padding: 10px; text-align: left; border-bottom: 2px solid #ddd;">Email</th>
                        <th style="padding: 10px; text-align: left; border-bottom: 2px solid #ddd;">–î–∞—Ç–∞</th>
                        <th style="padding: 10px; text-align: left; border-bottom: 2px solid #ddd;">–°—Ç–∞—Ç—É—Å</th>
                    </tr>
                </thead>
                <tbody>
                    {% for user in users[:5] %}
                    <tr style="border-bottom: 1px solid #eee;">
                        <td style="padding: 10px;">{{ user.username }}</td>
                        <td style="padding: 10px;">{{ user.email }}</td>
                        <td style="padding: 10px; color: #95a5a6;">{{ user.created_at.strftime('%d.%m.%Y') }}</td>
                        <td style="padding: 10px;">
                            {% if user.is_admin %}
                                <span style="background-color: #e74c3c; color: white; padding: 4px 10px; border-radius: 12px; font-size: 0.85em; font-weight: bold;">üëë –ê–¥–º–∏–Ω</span>
                            {% elif user.is_moderator %}
                                <span style="background-color: #3498db; color: white; padding: 4px 10px; border-radius: 12px; font-size: 0.85em;">üõ°Ô∏è –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä</span>
                            {% else %}
                                <span style="background-color: #2ecc71; color: white; padding: 4px 10px; border-radius: 12px; font-size: 0.85em;">üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>
                            {% endif %}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p style="color: #95a5a6; text-align: center; padding: 20px;">–ù–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
        {% endif %}
    </div>
{% endblock %}